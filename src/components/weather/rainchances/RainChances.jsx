import React, { useState } from "react";
import ReactEcharts from "echarts-for-react";
import { LeftOutlined } from "@ant-design/icons";
import { Card } from "react-bootstrap";
import "./RainChances.css";

const generateTimeData = () => {
  const timeData = [];
  for (let hours = 0; hours < 24; hours++) {
    const time = `${hours === 0 || hours === 12 ? 12 : hours % 12}:00 ${
      hours < 12 ? "AM" : "PM"
    }`;
    timeData.push(time);
  }
  return timeData;
};

const timeData = generateTimeData();

const RainChances = () => {
  const [start, setStart] = useState(0);
  const [end, setEnd] = useState(8);

  const data = [0.2, 0.1, 0.3, 0.2, 0.3, 0.2, 0.3, 0.2, 0.3, 0.1];

  const options = {
    grid: {
      left: "0%",
      right: "0%",
      top: "14%",
      bottom: "0%",
      containLabel: true,
    },
    xAxis: {
      type: "category",
      boundaryGap: false,
      data: timeData.slice(start, end),
      axisLabel: { color: "#000" },
    },
    yAxis: {
      type: "value",
      splitLine: { show: false },
      axisLabel: { color: "#000" },
    },
    series: [
      {
        data: data,
        type: "line",
        areaStyle: { color: "#81D8EB" },
        lineStyle: { color: "#81D8EB" },
        smooth: false,
        symbol: "circle",
        symbolSize: 10,
        itemStyle: { color: "#81D8EB" },
      },
    ],
    tooltip: { trigger: "axis", formatter: "{b0}: {c0}" },
  };

  const scrollLeft = () => {
    if (start > 0) {
      setStart(start - 1);
      setEnd(end - 1);
    }
  };

  return (
    <Card className="rain-chances-card">
      <Card.Body>
        <div className="rain-chances-container">
          <div className="chart-heading">
            <h2>Rain Chances</h2>
            <div>
              <p>
                <svg
                  width="10"
                  height="10"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  className="me-1"
                >
                  <circle cx="5" cy="5" r="5" fill="#81D8EB" />
                </svg>
                Rain Chances (%){" "}
              </p>

              <p>
                <svg
                  width="10"
                  height="10"
                  viewBox="0 0 10 10"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  className="me-1"
                >
                  <circle cx="5" cy="5" r="5" fill="#1D31A8" />
                </svg>
                Rain Amount (mm)
              </p>
            </div>
          </div>
          <div className="top-info ">
            <div>
              <h2 className="date">
                <p>Thu</p> <p>16 Feb</p>
              </h2>
            </div>
            <svg
              width="44"
              height="36"
              viewBox="0 0 44 36"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M13.498 17.5954C9.54767 17.5954 6.34535 14.8668 6.34535 11.5027C6.34535 8.13682 9.54767 5.40825 13.498 5.40825C17.4483 5.40825 20.6506 8.13682 20.6506 11.5027C20.6506 14.8668 17.4483 17.5954 13.498 17.5954ZM11.9595 18.7053H15.0386C15.181 18.7053 15.3127 18.765 15.3956 18.8646C15.4763 18.9624 15.4954 19.0909 15.4466 19.205L13.906 22.7574C13.8422 22.904 13.6807 23 13.498 23C13.3152 23 13.1537 22.9022 13.09 22.7574L11.5494 19.2032C11.5005 19.0891 11.5196 18.9624 11.6004 18.8628C11.6833 18.7632 11.8171 18.7053 11.9595 18.7053ZM20.5656 15.6671C20.6464 15.5965 20.759 15.5585 20.8716 15.5585C20.8971 15.5585 20.9226 15.5603 20.9481 15.5639C21.0884 15.5856 21.2052 15.6635 21.2668 15.7739L23.1283 19.2159C23.2048 19.3571 23.1687 19.5218 23.0412 19.6323C22.9116 19.7427 22.7161 19.7717 22.5503 19.7083L18.5129 18.1204C18.3833 18.0697 18.2919 17.9684 18.2664 17.8489C18.2409 17.7294 18.2876 17.608 18.3854 17.5211L20.5656 15.6671ZM26.711 11.8485L22.5376 13.1594C22.4037 13.2011 22.255 13.1848 22.1381 13.116C22.0212 13.0472 21.9532 12.9349 21.9532 12.8136L21.9553 10.19C21.9553 10.0687 22.0255 9.95466 22.1423 9.88585C22.2167 9.84421 22.3038 9.82067 22.391 9.82067C22.442 9.82067 22.493 9.82791 22.5418 9.84421L26.7153 11.1551C26.8853 11.2076 27 11.347 27 11.5045C26.9958 11.6566 26.8831 11.7942 26.711 11.8485ZM21.2668 7.2279C21.2375 7.28219 21.1932 7.32963 21.1377 7.3662C21.0822 7.40277 21.0172 7.42737 20.9481 7.43793C20.8079 7.45784 20.6634 7.41982 20.5656 7.33472L18.3875 5.47886C18.2876 5.39376 18.2409 5.27064 18.2664 5.15114C18.2919 5.03345 18.3833 4.93025 18.5129 4.87955L22.5525 3.29347C22.6098 3.26994 22.6714 3.26088 22.7352 3.26088C22.8478 3.26088 22.9583 3.2989 23.0412 3.36952C23.1708 3.47996 23.2048 3.64473 23.1283 3.78596L21.2668 7.2279ZM15.0365 4.29835L11.9574 4.29654C11.815 4.29654 11.6833 4.23679 11.6025 4.13721C11.5218 4.03763 11.5026 3.91089 11.5494 3.79863L13.09 0.242619C13.1537 0.0977707 13.3152 0 13.498 0C13.6807 0 13.8422 0.0977707 13.906 0.242619L15.4466 3.79863C15.4954 3.9127 15.4763 4.03944 15.3956 4.13902C15.3127 4.2386 15.181 4.29835 15.0365 4.29835ZM6.43035 7.33472C6.33048 7.41982 6.18811 7.45784 6.04786 7.43793C5.90761 7.4162 5.78861 7.33834 5.72911 7.2279L3.86765 3.78596C3.79115 3.64473 3.82727 3.47815 3.95689 3.36952C4.0196 3.31594 4.10012 3.28008 4.18754 3.26681C4.27496 3.25353 4.36507 3.26347 4.44564 3.29528L8.48519 4.88317C8.54891 4.90819 8.60459 4.94594 8.64751 4.99323C8.69042 5.04051 8.7193 5.09593 8.73169 5.15476C8.75719 5.27426 8.71044 5.39557 8.61056 5.48067L6.43035 7.33472ZM4.60926 9.81886C4.69638 9.81886 4.7835 9.8424 4.85788 9.88585C4.97475 9.95466 5.04488 10.0687 5.04488 10.19L5.04275 12.8136C5.04276 12.8732 5.02588 12.9319 4.99353 12.9848C4.96118 13.0377 4.91433 13.0831 4.85696 13.1172C4.79959 13.1514 4.73339 13.1732 4.664 13.1809C4.5946 13.1885 4.52407 13.1818 4.45838 13.1612L0.284956 11.8485C0.201394 11.8224 0.129255 11.7751 0.0782918 11.7129C0.0273289 11.6507 0 11.5767 0 11.5009C0 11.4251 0.0273289 11.3511 0.0782918 11.2889C0.129255 11.2267 0.201394 11.1794 0.284956 11.1533L4.46051 9.8424C4.50938 9.8261 4.55826 9.81886 4.60926 9.81886ZM5.73124 15.7739C5.76067 15.7197 5.80503 15.6723 5.86057 15.6358C5.91611 15.5992 5.98117 15.5747 6.05023 15.5642C6.11928 15.5537 6.19029 15.5576 6.25721 15.5755C6.32413 15.5934 6.38499 15.6248 6.4346 15.6671L8.61056 17.5229C8.71044 17.6099 8.75506 17.7312 8.72956 17.8507C8.70406 17.9684 8.61269 18.0697 8.48307 18.1204L4.44139 19.7065C4.27564 19.7717 4.08227 19.7409 3.95264 19.6305C3.82302 19.52 3.78902 19.3553 3.86552 19.214L5.73124 15.7739Z"
                fill="#FCC21B"
              />
              <path
                d="M31.9662 28.195L30.1279 31.4358C30.0733 31.5371 29.9996 31.6263 29.911 31.6985C29.8225 31.7707 29.7208 31.8244 29.6119 31.8566C29.503 31.8887 29.3889 31.8987 29.2762 31.8858C29.1635 31.873 29.0543 31.8377 28.9551 31.7819L31.9662 28.195ZM31.9662 28.195C32.2208 27.7481 32.0796 27.2441 31.6555 26.9989L31.9662 28.195ZM35.1366 9.08236L35.2749 9.36625L35.5906 9.36342C40.1391 9.3226 43.5 12.4855 43.5 16.6568C43.5 20.7997 40.2627 24.0361 36.0531 24.0361H18.505C16.6733 24.0361 15.175 23.4585 14.1395 22.4984C13.1071 21.5411 12.5 20.1722 12.5 18.5148C12.5 15.9 14.1196 13.7497 16.645 13.047L16.9829 12.953L17.0096 12.6033C17.4009 7.47715 21.5933 3.5 26.5364 3.5C30.2502 3.5 33.4049 5.52645 35.1366 9.08236ZM29.693 31.1891L29.6929 31.1891L29.6879 31.1983C29.6642 31.2423 29.6325 31.2805 29.5951 31.311C29.5577 31.3415 29.5153 31.3638 29.4704 31.377C29.4256 31.3902 29.3788 31.3943 29.3327 31.389C29.2882 31.384 29.2448 31.3703 29.2046 31.3485C29.015 31.2335 28.9655 31.034 29.0667 30.8428L30.9302 27.5787L30.9304 27.5783C31.0016 27.4533 31.0865 27.3993 31.1514 27.3805C31.2129 27.3626 31.2949 27.3646 31.3951 27.4258L31.395 27.4259L31.4052 27.4318C31.5877 27.5373 31.6524 27.7358 31.5318 27.9474L31.5313 27.9483L29.693 31.1891ZM37.1493 27.9264L37.1492 27.9263L37.1449 27.9341L32.9755 35.306C32.9752 35.3065 32.9749 35.307 32.9746 35.3075C32.8712 35.4857 32.6971 35.5304 32.5305 35.4413C32.3619 35.3335 32.2959 35.1351 32.4189 34.9034L36.5532 27.5723C36.6901 27.3592 36.8953 27.3399 37.0321 27.4229C37.215 27.5401 37.2644 27.731 37.1493 27.9264ZM18.4375 31.2033L18.4373 31.2032L18.4311 31.2149C18.4081 31.2581 18.3772 31.2954 18.3406 31.3251C18.3041 31.3547 18.2626 31.3761 18.2187 31.3885C18.1749 31.4009 18.1293 31.4042 18.0844 31.3981C18.0396 31.3921 17.9959 31.3769 17.9561 31.3531L17.9561 31.353L17.9492 31.349C17.7684 31.2445 17.7156 31.0476 17.8212 30.8638L17.8227 30.8611L19.6742 27.5925C19.6743 27.5923 19.6744 27.5921 19.6745 27.592C19.7455 27.4677 19.8298 27.414 19.8958 27.3951C19.9593 27.3768 20.048 27.3782 20.1594 27.4441L20.1594 27.4441L20.1641 27.4468C20.3336 27.5446 20.4041 27.7376 20.2764 27.9613L20.2758 27.9624L18.4375 31.2033ZM21.7184 35.3236L21.7183 35.3235L21.7137 35.3321C21.6258 35.4942 21.4601 35.5473 21.2886 35.4552C21.1092 35.3413 21.047 35.1376 21.1632 34.9185L25.3172 27.577L25.3173 27.5771L25.3204 27.5713C25.3438 27.5287 25.3749 27.4921 25.4115 27.4631L25.1013 27.0709L25.4116 27.4631C25.4482 27.4341 25.4896 27.4133 25.5333 27.4015C25.5769 27.3898 25.6222 27.3871 25.6667 27.3935C25.7091 27.3997 25.7502 27.414 25.788 27.4362C25.9589 27.5519 26.0134 27.7495 25.9025 27.9501C25.9022 27.9506 25.902 27.9511 25.9017 27.9516L21.7184 35.3236Z"
                fill="#B8E9F4"
                stroke="#199BC4"
              />
            </svg>
            <svg
              width="1"
              height="30"
              viewBox="0 0 1 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="mx-2"
            >
              <line x1="0.5" x2="0.5" y2="30" stroke="black" />
            </svg>
            <div className="temp">
              <div>
                <p>17°</p>
                <p>Day</p>
              </div>
              <div>
                <p>11°</p>
                <p>Night</p>
              </div>
            </div>
            <svg
              width="1"
              height="30"
              viewBox="0 0 1 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <line x1="0.5" x2="0.5" y2="30" stroke="black" />
            </svg>

            <div className="se">
              {" "}
              <p>
                <svg
                  width="11"
                  height="11"
                  viewBox="0 0 11 11"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M6.00734 1H1V6.00734H1.62592V2.0709L8.8088 9.24986L9.2489 8.80976L2.0709 1.62592H6.00734V1Z"
                    fill="black"
                    stroke="#81D8EB"
                    stroke-width="2"
                    stroke-linejoin="round"
                  />
                </svg>
              </p>
              <h2>SE</h2>
              <p>25km/h</p>
            </div>

            <svg
              width="1"
              height="30"
              viewBox="0 0 1 30"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <line x1="0.5" x2="0.5" y2="30" stroke="black" />
            </svg>
            <div className="rain-info">
              <p>50%</p>
              <p> Chance of rain</p>
              <p>
                <svg
                  width="22"
                  height="22"
                  viewBox="0 0 22 22"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M3.07346 19.2971C3.6137 19.7503 4.29631 19.9987 5.00146 19.9987C5.7066 19.9987 6.38921 19.7503 6.92946 19.2971C7.46977 18.8438 7.83309 18.2146 7.95562 17.5201C8.07815 16.8255 7.95204 16.11 7.59946 15.4991L5.50446 12.2721C5.44993 12.1886 5.37543 12.1199 5.28769 12.0724C5.19995 12.0249 5.10174 12 5.00196 12C4.90218 12 4.80397 12.0249 4.71623 12.0724C4.62849 12.1199 4.55398 12.1886 4.49946 12.2721L2.40146 15.4991C2.04899 16.1101 1.92305 16.8257 2.04576 17.5203C2.16847 18.2148 2.53298 18.844 3.07346 19.2971ZM15.0735 19.2971C15.6137 19.7503 16.2963 19.9987 17.0015 19.9987C17.7066 19.9987 18.3892 19.7503 18.9295 19.2971C19.4698 18.8438 19.8331 18.2146 19.9556 17.5201C20.0781 16.8255 19.952 16.11 19.5995 15.4991L17.5045 12.2721C17.4499 12.1886 17.3754 12.1199 17.2877 12.0724C17.1999 12.0249 17.1017 12 17.002 12C16.9022 12 16.804 12.0249 16.7162 12.0724C16.6285 12.1199 16.554 12.1886 16.4995 12.2721L14.4015 15.4991C14.049 16.1101 13.923 16.8257 14.0458 17.5203C14.1685 18.2148 14.532 18.844 15.0725 19.2971H15.0735ZM9.07346 9.29714C9.6137 9.75031 10.2963 9.9987 11.0015 9.9987C11.7066 9.9987 12.3892 9.75031 12.9295 9.29714C13.4698 8.84382 13.8331 8.21463 13.9556 7.52006C14.0781 6.8255 13.952 6.10997 13.5995 5.49914L11.5045 2.27214C11.4499 2.18857 11.3754 2.11992 11.2877 2.0724C11.1999 2.02489 11.1017 2 11.002 2C10.9022 2 10.804 2.02489 10.7162 2.0724C10.6285 2.11992 10.554 2.18857 10.4995 2.27214L8.40146 5.49914C8.04899 6.11008 7.92305 6.82568 8.04576 7.52025C8.16847 8.21483 8.53298 8.84395 9.07346 9.29714Z"
                    stroke="#81D8EB"
                    stroke-width="3"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </p>
              <p>5.2mm</p>
            </div>
          </div>
          <ReactEcharts option={options} className="rain-chances-chart" />
          {/* <LeftOutlined
            onClick={scrollLeft}
            className={`scroll-icon ${start === 0 ? "disabled" : ""}`}
          /> */}
        </div>
      </Card.Body>
    </Card>
  );
};

export default RainChances;
